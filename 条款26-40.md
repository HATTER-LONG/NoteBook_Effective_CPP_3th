# Effective CPP

- [Effective CPP](#effective-cpp)
  - [实现 Implementations](#实现-implementations)
    - [条款 26：尽可能延后变量定义式的出现时间](#条款-26尽可能延后变量定义式的出现时间)
    - [条款 27：尽量少做转型动作](#条款-27尽量少做转型动作)

## 实现 Implementations

### 条款 26：尽可能延后变量定义式的出现时间

- 只在需要的地方声明变量，防止无用的构造与析构。
- 条款 4 介绍的通过 default 构造一个对象后赋予其初值，比在构造时指定初值效率要差。因此尽可能在声明变量时指定初始值，跳过无意义的 default 构造。
- 对于循环中使用的局部变量定义应该放在循环外还是循环内：
  - 如果对象变量的一个赋值操作成本小于一组构造+析构成本那么就定义在循环外，反之放入循环内。

### 条款 27：尽量少做转型动作

- c++ 提供了 4 种新式的转型：
  - `const_cast<T>(expression)`：用来将对象的常量性移除。
  - `dynamic_cast<T>(expression)`：安全向下转型。
  - `reinterpret_cast<T>(expression)`：用来处理无关类型之间的转换。具体实现于与编译器有关，不具备移植性。
  - `static_cast<T>(expression)`：强迫隐式转换，类似 c 中的强转。

- 目前旧式转型依然合法，但是新式的转型更具有优势：
  - 新式转型可以很容易在代码中辨识出来，便于搜索和阅读。
  - 各转型动作的目标越细化，编译器就越可能帮助诊断错误运用。

